function weixin_share(){function f(a,b){a=a.split(".");b=b.split(".");var c,d;for(c=0;c<a.length||c<b.length;c++)if(d=(parseInt(a[c],10)||0)-(parseInt(b[c],10)||0))return d;return 0}function n(){window.x5=window.x5||{commandQueue:[],commandQueueFlushing:!1,resources:{base:!0}};x5.callbackId=0;x5.callbacks={};x5.callbackStatus={NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9};x5.createBridge=function(){var a=document.createElement("iframe");a.setAttribute("style","display:none;");a.setAttribute("height","0px");a.setAttribute("width","0px");a.setAttribute("frameborder","0");document.documentElement.appendChild(a);return a};x5.exec=function(a,b,c,d,p){var h=null,e={className:c,methodName:d,options:{},arguments:[]};if(a||b)h=c+x5.callbackId++,x5.callbacks[h]={success:a,fail:b};null!=h&&e.arguments.push(h);for(a=0;a<p.length;++a)b=p[a],void 0!=b&&null!=b&&("object"===typeof b?e.options=b:e.arguments.push(b));x5.commandQueue.push(JSON.stringify(e));1!=x5.commandQueue.length||x5.commandQueueFlushing||(x5.bridge||(x5.bridge=x5.createBridge()),x5.bridge.src="mtt:"+c+":"+d)};x5.getAndClearQueuedCommands=function(){var a=JSON.stringify(x5.commandQueue);x5.commandQueue=[];return a};x5.callbackSuccess=function(a,b){if(x5.callbacks[a]){if(b.status===x5.callbackStatus.OK)try{x5.callbacks[a].success&&x5.callbacks[a].success(b.message)}catch(h){}b.keepCallback||delete x5.callbacks[a]}};x5.callbackError=function(a,b){if(x5.callbacks[a]){try{x5.callbacks[a].fail&&x5.callbacks[a].fail(b.message)}catch(h){}b.keepCallback||delete x5.callbacks[a]}};x5.ios=x5.ios||{};x5.ios.share=function(a,b,c){x5.exec(b,c,"app","share",[a])};x5.ios.getMobileAppSupport=function(a,b,c){x5.exec(b,c,"app","getMobileAppSupport",[a])}}function d(){}d.prototype.support=function(){return-1};d.prototype.s=function(){};d.prototype.share=function(a,b,c,d,e){return this.s(e?0:1,{title:a,description:b,url:c,img_url:d})};d.prototype.init=function(a){function b(){var e=d.support(a);0==e&&0<=c?(setTimeout(b,100),c--):2!=e&&a(e)}var c=20,d=this;b()};var g=new d,k=new d,e=new d,c={},l=navigator.userAgent.toLowerCase(),m;window.agent_sys=c;g.support=function(a){if("undefined"!==typeof SogouMse&&SogouMse.Utility){if(c.ios&&SogouMse.Utility.shareWithInfo)return 1;if(c.android&&"function"===typeof SogouMse.Utility.getSupportedShareType){var b=20;(function q(){try{SogouMse.Utility.getSupportedShareType(function(b){20==(b&20)?a(1):a(-1)})}catch(p){0<=b?(setTimeout(q,50),b--):a(-1)}})();return 2}return-1}return 0};g.s=function(a,b){SogouMse.Utility.shareWithInfo({shareTitle:b.title,shareContent:b.description,shareUrl:b.url,shareType:0==a?4:2,shareImageUrl:b.img_url})};k.support=function(){if(c.android)return window.JSInvoker&&"undefined"!==typeof window.JSInvoker.isWeixinInstalled&&window.JSInvoker.isWeixinInstalled()?1:-1;if(c.ios)return"undefined"!==typeof window.isweixininstalled?window.isweixininstalled?1:-1:0};k.s=function(a,b){b.to_app=0==a?8:1;window.JSInvoker.shareToWeixin(JSON.stringify(b))};e.support=function(){if(c.ios){var a=this;"undefined"===typeof a.qq_ios_init&&(n(),x5.ios.getMobileAppSupport({scheme:"weixin://"},function(){a.qq_ios_init=1},function(){a.qq_ios_init=-1}),a.qq_ios_init=0);return a.qq_ios_init}if(c.android)return window.x5mtt&&window.x5mtt.canShareTo&&1==window.x5mtt.canShareTo(JSON.stringify({to_app:1}))?1:-1};e.s=function(a,b){b.to_app=0==a?8:1;c.android?window.x5mtt.share(JSON.stringify(b),"undefined"):c.ios&&x5.ios.share(b,function(){},function(){})};-1<l.indexOf("iphone")?c.ios=!0:-1<l.indexOf("android")&&(c.android=!0);(m=l.match(/mqqbrowser\/([\d.]+)/))?c.qq=m[1]:(m=l.match(/sogoumobilebrowser\/([\d.]+)/))?c.sogou=m[1]:(m=l.match(/sogousearch/))?c.app=1:0;return c.qq&&0<=f(c.qq,"5.3")?e:c.sogou&&0<=f(c.sogou,"3.0.0")?g:c.app?k:new d}(function(){function f(){}var n,d,g=navigator.userAgent.toLowerCase();g.match(/sogousearch/);-1<g.indexOf("iphone")?n=!0:-1<g.indexOf("android")&&(d=!0);f.prototype.init=function(d){function c(){var a=f.support();0==a&&0<=e?(setTimeout(c,20+10*(20-e)),e--):d(a)}var e=20,f=this;c()};f.prototype.support=function(){if(d)return window.JSInvoker&&"undefined"!==typeof window.JSInvoker.openWeixinNews?1:-1;if(n)return window.JSInvoker&&"undefined"!==typeof window.JSInvoker.openWeixinNews?1:0};f.prototype.open=function(d){window.JSInvoker.openWeixinNews(JSON.stringify(d))};window.weixin_open_support=-1;var k=new f;k.init(function(d){window.weixinOpenSupport=0<d;window.weixinOpen=k})})();
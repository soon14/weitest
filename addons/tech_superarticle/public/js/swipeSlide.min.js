(function(e,g){function p(a,d,b){d.css({"-webkit-transition":"all "+b+"s "+a.opts.transitionType,transition:"all "+b+"s "+a.opts.transitionType})}function q(a,d,b){a=a.opts.axisX?b+"px,0,0":"0,"+b+"px,0";d.css({"-webkit-transform":"translate3d("+a+")",transform:"translate3d("+a+")"})}function d(a,d){var b=a.opts.ul.children().eq(d).find("[data-src]");b&&b.each(function(a){a=g(this);a.is("img")?a.attr("src",a.data("src")):a.css({"background-image":"url("+a.data("src")+")"});a.removeAttr("data-src")})}function u(a){l.touch&&!a.touches&&(a.touches=a.originalEvent.touches)}function v(a){a.isScrolling||r(a);if(h.ie10||h.ie11)5>Math.abs(a._moveDistanceIE)&&(a.allowSlideClick=!0),setTimeout(function(){a.allowSlideClick=!0},100);Math.abs(a._moveDistance)<=a._distance?m(a,"",".2"):a._moveDistance>a._distance?m(a,"prev",".2"):Math.abs(a._moveDistance)>a._distance&&m(a,"next",".2");a._moveDistance=a._moveDistanceIE=0}function r(a){a.opts.autoSwipe&&(clearInterval(a.autoSlide),a.autoSlide=setInterval(function(){m(a,"next",".2")},a.opts.speed))}function m(a,f,b){"number"===typeof f?(a._index=f,a.opts.lazyLoad&&(a.opts.continuousScroll?(d(a,a._index),d(a,a._index+1),d(a,a._index+2)):(d(a,a._index-1),d(a,a._index),d(a,a._index+1)))):"next"==f?(a._index++,a.opts.lazyLoad&&(a.opts.continuousScroll?(d(a,a._index+2),a._index+1==a._liLength?d(a,1):a._index==a._liLength&&d(a,0)):d(a,a._index+1))):"prev"==f&&(a._index--,a.opts.lazyLoad&&(a.opts.continuousScroll?(d(a,a._index),0==a._index?d(a,a._liLength):0>a._index&&d(a,a._liLength-1)):d(a,a._index-1)));a.opts.continuousScroll?a._index>=a._liLength?(k(a,b),a._index=0,setTimeout(function(){k(a,0);a.opts.callback(a._index,a._liLength)},100)):0>a._index?(k(a,b),a._index=a._liLength-1,setTimeout(function(){k(a,0);a.opts.callback(a._index,a._liLength)},100)):k(a,b):(a._index>=a._liLength?a._index=0:0>a._index&&(a._index=a._liLength-1),k(a,b));a.opts.callback(a._index,a._liLength)}function k(a,d){p(a,a.opts.ul,d);q(a,a.opts.ul,-a._index*a._slideDistance)}var h={ie10:e.navigator.msPointerEnabled,ie11:e.navigator.pointerEnabled},n=["touchstart","touchmove","touchend"],l={touch:e.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)};h.ie10&&(n=["MSPointerDown","MSPointerMove","MSPointerUp"]);h.ie11&&(n=["pointerdown","pointermove","pointerup"]);var w=n[0],x=n[1],y=n[2];g.fn.swipeSlide=function(a){return new t(this,a)};var t=function(a,d){this.$el=g(a);this._distance=10;this.allowSlideClick=!0;this.init(d)};t.prototype.init=function(a){function f(){var a=b.opts.ul.children();b._slideDistance=b.opts.axisX?b.opts.li.width():b.opts.li.height();p(b,b.opts.ul,0);q(b,b.opts.ul,-b._slideDistance*b._index);p(b,a,0);var c=b.opts.continuousScroll?-1:0;a.each(function(a){q(b,g(this),b._slideDistance*(a+c))})}var b=this;b.opts=g.extend({},{ul:b.$el.children("ul"),li:b.$el.children().children("li"),index:0,continuousScroll:!1,autoSwipe:!0,speed:4E3,axisX:!0,transitionType:"ease",lazyLoad:!1,callback:function(){}},a);b._index=b.opts.index;b._liLength=b.opts.li.length;b.isScrolling;b.opts.callback(b._index,b._liLength);if(1>=b._liLength)return b.opts.lazyLoad&&d(b,0),!1;b.opts.continuousScroll&&b.opts.ul.prepend(b.opts.li.last().clone()).append(b.opts.li.first().clone());b.opts.lazyLoad&&(d(b,b._index),b.opts.continuousScroll?(d(b,b._index+1),d(b,b._index+2),0==b._index?d(b,b._liLength):b._index+1==b._liLength&&d(b,1)):d(b,b._index+1==b._liLength?b._liLength-2:b._index+1));f();if(h.ie10||h.ie11)a="",a=b.opts.axisX?"pan-y":"none",b.$el.css({"-ms-touch-action":a,"touch-action":a}),b.$el.on("click",function(){return b.allowSlideClick});r(b);b.$el.on(w,function(a){u(a);var c=b;c.isScrolling=void 0;c._moveDistance=c._moveDistanceIE=0;c._startX=l.touch?a.touches[0].pageX:a.pageX||a.clientX;c._startY=l.touch?a.touches[0].pageY:a.pageY||a.clientY});b.$el.on(x,function(a){u(a);var c=b;c.opts.autoSwipe&&clearInterval(c.autoSlide);c.allowSlideClick=!1;c._curX=l.touch?a.touches[0].pageX:a.pageX||a.clientX;c._curY=l.touch?a.touches[0].pageY:a.pageY||a.clientY;c._moveX=c._curX-c._startX;c._moveY=c._curY-c._startY;"undefined"==typeof c.isScrolling&&(c.isScrolling=c.opts.axisX?!!(Math.abs(c._moveX)>=Math.abs(c._moveY)):!!(Math.abs(c._moveY)>=Math.abs(c._moveX)));c.isScrolling&&(a.preventDefault?a.preventDefault():a.returnValue=!1,p(c,c.opts.ul,0),c._moveDistance=c._moveDistanceIE=c.opts.axisX?c._moveX:c._moveY);!c.opts.continuousScroll&&(0==c._index&&0<c._moveDistance||c._index+1>=c._liLength&&0>c._moveDistance)&&(c._moveDistance=0);q(c,c.opts.ul,-(c._slideDistance*c._index-c._moveDistance))});b.$el.on(y,function(){v(b)});b.opts.ul.on("webkitTransitionEnd MSTransitionEnd transitionend",function(){r(b)});g(e).on("onorientationchange"in e?"orientationchange":"resize",function(){clearTimeout(b.timer);b.timer=setTimeout(f,150)})};t.prototype.goTo=function(a){m(this,a,".2")}})(window,window.Zepto||window.jQuery);
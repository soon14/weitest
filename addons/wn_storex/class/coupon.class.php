<?php
 goto w2MSn; atxW5: load()->classs("\x63\x6f\165\x70\157\156"); goto CVPXQ; w2MSn: defined("\x49\x4e\137\x49\101") or die("\x41\143\x63\145\x73\163\x20\x44\x65\x6e\x69\x65\144"); goto atxW5; CVPXQ: class WnCoupon extends coupon { public function BuildCardExt($id, $openid = '', $type = "\x63\157\x75\x70\x6f\156") { goto T4VE2; khjSc: $cardExt = array("\x74\151\x6d\x65\163\164\x61\155\x70" => $time, "\x73\151\x67\x6e\x61\x74\x75\162\x65" => $signature); goto t40CL; ORecd: $jzOCY = !empty($card_id); goto iQRVj; T4VE2: $card_id = pdo_fetchcolumn("\x53\x45\x4c\x45\103\124\x20\x63\141\162\x64\137\151\144\x20\x46\x52\x4f\115\40" . tablename("\x73\x74\157\162\145\x78\x5f\x63\157\165\x70\157\156") . "\x20\127\x48\105\x52\105\40\x69\x64\x20\75\40\72\151\x64", array("\x3a\x69\x64" => $id)); goto ORecd; s974h: return error(-1, "\xe5\215\xa1\345\210\270\151\144\344\270\215\xe5\220\x88\346\xb3\x95"); goto R7NlT; R7NlT: O0IyA: goto s1LDv; gCiGQ: if ($XWXrn) { goto gpiKY; } goto tzdvz; t40CL: $cardExt = json_encode($cardExt); goto n8cXD; s1LDv: $time = TIMESTAMP; goto mkrWC; BUXSl: $signature = $this->SignatureCard($sign); goto yfUfu; n8cXD: return array("\143\x61\162\x64\137\x69\144" => $card_id, "\143\141\x72\144\137\145\x78\164" => $cardExt); goto ofsSY; iQRVj: if ($jzOCY) { goto O0IyA; } goto s974h; tzdvz: return $signature; goto qSV6r; yfUfu: $XWXrn = !is_error($signature); goto gCiGQ; mkrWC: $sign = array($card_id, $time); goto BUXSl; qSV6r: gpiKY: goto khjSc; ofsSY: } }
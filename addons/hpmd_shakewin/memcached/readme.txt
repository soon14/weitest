1. 为了支持高并发，防止卡顿，需要安装高性能memcached缓存。微擎默认是没有启用memcached缓存。
        （1）解压weix\addons\shakewin\memcached\memcache安装.rar 压缩包。
        （2）右键点击install.cmd脚本，选择管理员身份运行，安装memcache服务。和微擎装在一台服务器上。
        （3）微擎的weix\data\config.php文件中加入如下配置
        //$config['setting']['cache'] = 'mysql';
        $config['setting']['cache'] = 'memcache';
        $config['setting']['memcache']['server'] = '127.0.0.1';
        $config['setting']['memcache']['port'] = 11211;
        $config['setting']['memcache']['pconnect'] = 0;
        $config['setting']['memcache']['timeout'] = 30;
        $config['setting']['memcache']['session'] = 1;
         （4）如果需要将memcached和微擎安装在不同服务器或者修改端口，用记事本打开install.cmd，修改ip和端口。并同时更改config.php文件。
         （5）在控制面板-->管理工具-->双击“服务”。找到memcached服务。重新启动下，看是否正常重启。
2. 配置微信公众平台       
       （1）系统需要获取摇动粉丝的头像，以在大屏幕上显示。进入公众号，左侧栏“开发”-->接口权限-->“网页服务”-->“网页授权”-->“网页授权获取用户基本信息”。点修改
               将“网页授权域名”设置为您的微擎服务器域名。          
        （2 可选）如果想要控制活动范围，比如在北京饭店一公里范围内的人才可以参加。需要配置您的公众号。进入公众号，左侧栏“开发”-->接口权限-->“网页服务”-->“网页授权”-->“网页授权获取用户基本信息”。
               点修改将“JS接口安全域名”设置为您的微擎服务器域名。            
         注：如果您活动的公众号没有“网页授权获取用户基本信息”功能，请在微擎上边的“功能选项”-->右侧“借用oAuth权限”选择有该权限的服务号，并做相应配置。       
3. 安装好模块后，进入模块后台的“核心功能设置”-->“回复规则列表”
        （1）添加摇一摇赢大奖回复规则。回复规则名称和触发关键字随意。勾选高级触发。
        （2）选择“正则表达式模式匹配”，点击“添加正则表达式模式”。输入 .* 这两个字符后。点击保存。然后点击提交。
4. 大致有两种活动场景，一种常见是使用活动的开始、结束时间来控制摇一摇活动的起始。
         还有一种是活动时间不定，需要在“大屏幕控制台”来手动控制活动的开始或结束。比如年会上每隔一小时大概会有一次摇奖活动。每次活动的奖品不同，那么你需要配置4-5个活动。  
      （1）  配置活动，进入模块后台的“业务功能菜单”-->“摇一摇活动”。
                （1.1）“回复关键字” 粉丝在公众号中输入该关键字，会进入摇一摇微信端界面开始摇奖。
                （1.2）“摇动几次可抽奖” 粉丝摇动手机直到该次数后，系统随机抽奖。
                （1.3）“不同活动再次获奖” 。如果添加了4个活动，第一个活动粉丝获奖1次，第二个活动每人获奖总次数为4，如果第二个活动的“不同活动再次获奖”选择了否，那么第二个活动
                                粉丝还可以获奖3次。如果第三个活动每人获奖总次数为10，前两次活动粉丝总共拿到3次奖品，如果第三个活动的“不同活动再次获奖”选择了否，那么第三次获得粉丝还可以
                                获奖7次。依次类推。
                                如果该选项选择了 是。那么本次活动粉丝可获奖次数和往期活动无关。
                （1.4）“最小中奖间隔时间” 大屏幕上两个粉丝获奖的最小时间间隔。用于控制奖品的发放频率，防止活动刚开始粉丝疯狂摇动手机，奖品很快发完。推荐 10 秒。
                （1.5）“开启坐标限制” 用于控制活动范围。以经纬度坐标为圆心，半径范围内的粉丝可以参加活动。
                                 经纬度是火星坐标系，可以在高德地图（开放平台->开发与支持->地图工具->坐标拾取器）获取！（http://lbs.amap.com/console/show/picker）
                （1.6）“大屏幕开始结束作为活动起始” 如果选是，那么活动的起始将不是由配置的活动的开始结束时间控制，而是由“业务功能菜单”->“大屏幕控制台” 控制。
                （1.7）大屏幕设置自己设置数值并测试，直到符合自己需求。下面是一组推荐配置值：
                                球旋转速度：0.2 ， 球自动改变方向：是 ，自动改变方向时间间隔：2000，检测摇动用户时间间隔：2000，检测获奖用户时间间隔：2000，
                               未摇动头像退出间隔：20，缓存过期时间：6000。
           
                
              
              
              
              
              
                                